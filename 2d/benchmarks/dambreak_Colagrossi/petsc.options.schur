# use a Schur Complement for the first set of solves

# set petsc ksp object and preconditioner
-rans2p_ksp_type gmres
-rans2p_ksp_gmres_restart 500
-rans2p_ksp_atol 1e-20
-rans2p_ksp_rtol 1e-6
#-ksp_view
#-ksp_monitor_true_residual
#-ksp_knoll
-rans2p_ksp_gmres_modifiedgramschmidt
#-help

# ksp options
#-ksp_converged_reason

# pc options
-rans2p_pc_fieldsplit_type schur 
-rans2p_pc_fieldsplit_schur_fact_type upper
-rans2p_pc_fieldsplit_schur_precondition user

# direct solver for velocity block - ksp options
-rans2p_fieldsplit_velocity_ksp_type preonly
#-fieldsplit_velocity_ksp_view
-rans2p_fieldsplit_velocity_pc_type lu
#-fieldsplit_velocity_ksp_monitor_true_residual
#-fieldsplit_velocity_pc_factor_mat_solver_package superlu_dist
#-fieldsplit_velocity_ksp_converged_reason

# pressure block options
-rans2p_fieldsplit_pressure_ksp_type preonly

-innerTPPCDsolver_Qp_visc_ksp_type preonly
-innerTPPCDsolver_Qp_visc_pc_type lu
#-innerTPPCDsolver_Qp_visc_ksp_view
#-innerTPPCDsolver_Qp_visc_ksp_monitor_true_resiudal

-innerTPPCDsolver_Qp_dens_ksp_type preonly
-innerTPPCDsolver_Qp_dens_pc_type lu
#-innerTPPCDsolver_Qp_visc_ksp_view
#-innerTPPCDsolver_Qp_visc_ksp_monitor_true_resiudal

#-innerTPPCDsolver_Ap_rho_ksp_type preonly
#-innerTPPCDsolver_Ap_rho_pc_type lu
#-innerTPPCDsolver_Ap_rho_pc_factor_mat_solver_package superlu_dist

-innerTPPCDsolver_Ap_rho_ksp_type preonly
#-innerTPPCDsolver_Ap_rho_ksp_type cg
#-innerTPPCDsolver_Ap_rho_ksp_side right
#-innerTPPCDsolver_Ap_rho_ksp_max_it 10
#-innerTPPCDsolver_Ap_rho_ksp_atol 1e-6
#-innerTPPCDsolver_Ap_rho_ksp_rtol 1e-9
-innerTPPCDsolver_Ap_rho_ksp_constant_null_space
#-innerTPPCDsolver_Ap_rho_pc_type gamg
-innerTPPCDsolver_Ap_rho_pc_type hypre
-innerTPPCDsolver_Ap_rho_pc_hypre_type boomeramg
#-innerTPPCDsolver_Ap_rho_ksp_monitor_true_residual
#other stuff
-ncls_ksp_type   preonly -ncls_pc_type   lu -ncls_pc_factor_mat_solver_package   superlu_dist
-vof_ksp_type    preonly -vof_pc_type    lu -vof_pc_factor_mat_solver_package    superlu_dist
-rdls_ksp_type   preonly -rdls_pc_type   lu -rdls_pc_factor_mat_solver_package   superlu_dist
-mcorr_ksp_type  preonly -mcorr_pc_type  lu -mcorr_pc_factor_mat_solver_package  superlu_dist
-kappa_ksp_type preonly -kappa_pc_type lu -kappa_pc_factor_mat_solver_package superlu_dist
-dissipation_ksp_type preonly -dissipation_pc_type lu -dissipation_pc_factor_mat_solver_package superlu_dist
-mesh_ksp_type preonly -mesh_pc_type lu -mesh_pc_factor_mat_solver_package superlu_dist

